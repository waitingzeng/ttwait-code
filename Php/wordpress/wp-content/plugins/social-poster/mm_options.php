<?php



$blogmemes_cats = array( 56 => 'Africa', 19 => 'America',35 => 'Apple',49 => 'Arts',53 => 'Asia',1 => 'Blogs',50 => 'Books',33 => 'Business',30 => 'Cinema',10 => 'Culture',39 => 'Design',41 => 'Ecology',11 => 'Economy',26 => 'Education',25 => 'Employment',13 => 'Environment',18 => 'Europe',23 => 'Every Day Life',40 => 'Fashion',34 => 'Finance',24 => 'Food',7 => 'Fun',42 => 'Gadgets',6 => 'Games',8 => 'Hardware',27 => 'Health',9 => 'History',28 => 'Humanitarian',4 => 'Internet',3 => 'Links',37 => 'Linux/Unix',38 => 'Marketing',15 => 'Media',36 => 'Microsoft',43 => 'Mobile',32 => 'Music',54 => 'Oceanie',44 => 'Open source',22 => 'People',45 => 'Photo',16 => 'Politics',55 => 'Programming',12 => 'Science',46 => 'Security',21 => 'Society',5 => 'Software',47 => 'Space',14 => 'Sports',17 => 'Technology',31 => 'Television',29 => 'Travel',51 => 'UK',2 => 'Web', 20 => 'World');

$mister_code = array( 'com' => 'US', 'cn' => 'China', 'de' => 'Germany','fr' => 'France','es' => 'Spain','ru' => 'Russia');

$back_flip_code = array("14078894"=>"Computers &amp; Internet",
							"14078895"=>"-- People Connection",
							"14078896"=>"-- Portals and Search",							
							"14078908"=>"Entertainment",
							"14078911"=>"-- Movies",
							"14078912"=>"-- Music",
							"14078910"=>"-- My Cool Links",
							"14078909"=>"-- Television",
							"0"=>"Everything Else",
							"14078901"=>"Friends &amp; Family",
							"14078915"=>"Money &amp; Finance",
							"14078916"=>"-- My Investments",
							"14078913"=>"My Work",
							"14078914"=>"-- Career",
							"14078900"=>"News",
							"14078902"=>"Shopping",
							"14078905"=>"-- Auctions",
							"14078906"=>"-- Shop for Books",
							"14078907"=>"-- Shop for Home",
							"14078904"=>"-- Shop for Music",
							"14078903"=>"-- Shop for Work",
							"14078917"=>"Sports",
							"14078897"=>"Travel",
							"14078898"=>"-- Places to Visit",
							"14078899"=>"-- Special Deals"
					);


$sphin_cat = array("2"=>"&nbsp;&nbsp;&nbsp;Google &nbsp;&nbsp;&nbsp;","27"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Google SEO &nbsp;&nbsp;&nbsp;","4"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Google AdWords &nbsp;&nbsp;&nbsp;","3"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Google AdSense &nbsp;&nbsp;&nbsp;","5"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Google Searching &nbsp;&nbsp;&nbsp;","28"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Google Other &nbsp;&nbsp;&nbsp;","6"=>"&nbsp;&nbsp;&nbsp;Yahoo &nbsp;&nbsp;&nbsp;","7"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yahoo SEO &nbsp;&nbsp;&nbsp;","8"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yahoo Paid Search &nbsp;&nbsp;&nbsp;","9"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yahoo Publisher Network &nbsp;&nbsp;&nbsp;","29"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yahoo Searching &nbsp;&nbsp;&nbsp;","30"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yahoo Other &nbsp;&nbsp;&nbsp;","10"=>"&nbsp;&nbsp;&nbsp;Microsoft &nbsp;&nbsp;&nbsp;","31"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Microsoft SEO &nbsp;&nbsp;&nbsp;","11"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Microsoft adCenter &nbsp;&nbsp;&nbsp;","32"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Microsoft Searching &nbsp;&nbsp;&nbsp;","33"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Microsoft Other &nbsp;&nbsp;&nbsp;","19"=>"&nbsp;&nbsp;&nbsp;Search Marketing &nbsp;&nbsp;&nbsp;","38"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SEM &nbsp;&nbsp;&nbsp;","20"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SEO &nbsp;&nbsp;&nbsp;","22"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Paid Search &nbsp;&nbsp;&nbsp;","21"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Link Building &nbsp;&nbsp;&nbsp;","39"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SEM Industry &nbsp;&nbsp;&nbsp;","40"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;In House SEM &nbsp;&nbsp;&nbsp;","41"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Other Search Marketing &nbsp;&nbsp;&nbsp;","23"=>"&nbsp;&nbsp;&nbsp;Social Media &nbsp;&nbsp;&nbsp;","34"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;News Sites &nbsp;&nbsp;&nbsp;","35"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bookmarking &nbsp;&nbsp;&nbsp;","36"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Networking &nbsp;&nbsp;&nbsp;","53"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Blogging &nbsp;&nbsp;&nbsp;","37"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Other Social Media &nbsp;&nbsp;&nbsp;","48"=>"&nbsp;&nbsp;&nbsp;Online Marketing &nbsp;&nbsp;&nbsp;","49"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Web Analytics &nbsp;&nbsp;&nbsp;","50"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Contextual Ads &nbsp;&nbsp;&nbsp;","51"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Affiliate Marketing &nbsp;&nbsp;&nbsp;","52"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Display Advertising &nbsp;&nbsp;&nbsp;","62"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Usability &nbsp;&nbsp;&nbsp;","63"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Domaining &nbsp;&nbsp;&nbsp;","61"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Other Online Marketing &nbsp;&nbsp;&nbsp;","24"=>"&nbsp;&nbsp;&nbsp;Searching &nbsp;&nbsp;&nbsp;","25"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ask.com &nbsp;&nbsp;&nbsp;","26"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AOL &nbsp;&nbsp;&nbsp;","58"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Local &amp; Maps &nbsp;&nbsp;&nbsp;","59"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mobile Search &nbsp;&nbsp;&nbsp;","60"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Video Search &nbsp;&nbsp;&nbsp;","44"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tips &amp; Tools &nbsp;&nbsp;&nbsp;","45"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Other Searching &nbsp;&nbsp;&nbsp;","46"=>"&nbsp;&nbsp;&nbsp;Other &nbsp;&nbsp;&nbsp;","47"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sphinn Zone &nbsp;&nbsp;&nbsp;","54"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jobs Wanted &nbsp;&nbsp;&nbsp;","55"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jobs Offered &nbsp;&nbsp;&nbsp;","56"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Water Cooler &nbsp;&nbsp;&nbsp;");

$plugim_cat=array("1"=> "Business","2"=> "Development","3"=> "Marketing","4"=> "Products","5" => "Search Engines");

$scoop_cat=array("1"=>"&nbsp;&nbsp;&nbsp;Search Engine News &nbsp;&nbsp;&nbsp;","6"=>"&nbsp;&nbsp;&nbsp;Mobile Searching &nbsp;&nbsp;&nbsp;","2"=>"&nbsp;&nbsp;&nbsp;Search Engine Marketing &nbsp;&nbsp;&nbsp;","3"=>"&nbsp;&nbsp;&nbsp;Search Engine Optimization &nbsp;&nbsp;&nbsp;","9"=>"&nbsp;&nbsp;&nbsp;Internet Marketing &nbsp;&nbsp;&nbsp;","4"=>"&nbsp;&nbsp;&nbsp;Web Hosting &nbsp;&nbsp;&nbsp;","5"=>"&nbsp;&nbsp;&nbsp;Domain Names &nbsp;&nbsp;&nbsp;","8"=>"&nbsp;&nbsp;&nbsp;Social Media &nbsp;&nbsp;&nbsp;","7"=>"&nbsp;&nbsp;&nbsp;Search Engine Conferences &nbsp;&nbsp;&nbsp;","10"=>"&nbsp;&nbsp;&nbsp;Forum Discussions &nbsp;&nbsp;&nbsp;","11"=>"&nbsp;&nbsp;&nbsp;Internet Searching &nbsp;&nbsp;&nbsp;","12"=>"&nbsp;&nbsp;&nbsp;Tools and Hacks &nbsp;&nbsp;&nbsp;","13"=>"&nbsp;&nbsp;&nbsp;Local Search &nbsp;&nbsp;&nbsp;","14"=>"&nbsp;&nbsp;&nbsp;Online Directories &nbsp;&nbsp;&nbsp;");

$propeller_channel=array("1"=>"Art &amp; Design","2"=>"Autos","32"=>"Books","3"=>"Careers &amp; Jobs","4"=>"Celebrities","5"=>"Do-It-Yourself","30"=>"Do No Evil","6"=>"Family","31"=>"Food","26"=>"Gadgets &amp; Tech","9"=>"Gay &amp; Lesbian","10"=>"Health &amp; Fitness","33"=>"Humor","11"=>"Love &amp; Personals","12"=>"Men","13"=>"Money","14"=>"Movies","15"=>"Music","16"=>"News","17"=>"Pets","18"=>"Politics","19"=>"Popular Videos","20"=>"Real Estate","21"=>"Religion","22"=>"Science","24"=>"Shopping","25"=>"Sports","27"=>"Television","7"=>"Travel","28"=>"Video Games","29"=>"Women");
$fuzfiz_cat=array("1"=>"&nbsp;&nbsp;&nbsp;Arts &nbsp;&nbsp;&nbsp;",
"25"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Animation &nbsp;&nbsp;&nbsp;",
"26"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Architecture &nbsp;&nbsp;&nbsp;",
"27"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Comics &nbsp;&nbsp;&nbsp;",
"29"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Design &nbsp;&nbsp;&nbsp;",
"30"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performing Arts &amp; Theater &nbsp;&nbsp;&nbsp;",
"32"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TV &amp; Radio &nbsp;&nbsp;&nbsp;",
"2"=>"&nbsp;&nbsp;&nbsp;Business &nbsp;&nbsp;&nbsp;",
"38"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Business Services &nbsp;&nbsp;&nbsp;",
"41"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Consumer Goods &amp; Services &nbsp;&nbsp;&nbsp;",
"45"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Education &amp; Training &nbsp;&nbsp;&nbsp;",
"19"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Law &nbsp;&nbsp;&nbsp;",
"46"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Employment &amp; HR &nbsp;&nbsp;&nbsp;",
"53"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Management &nbsp;&nbsp;&nbsp;",
"54"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marketing &amp; Advertising &nbsp;&nbsp;&nbsp;",
"55"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Opportunities &amp; MLM &nbsp;&nbsp;&nbsp;",
"8"=>"&nbsp;&nbsp;&nbsp;Computers &amp; Software &nbsp;&nbsp;&nbsp;",
"64"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Computer Security &nbsp;&nbsp;&nbsp;",
"62"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hardware &nbsp;&nbsp;&nbsp;",
"85"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Linux/Unix &nbsp;&nbsp;&nbsp;",
"86"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Microsoft &nbsp;&nbsp;&nbsp;",
"63"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Software &amp; Programming &nbsp;&nbsp;&nbsp;",
"24"=>"&nbsp;&nbsp;&nbsp;Education &nbsp;&nbsp;&nbsp;",
"104"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Universities &amp; Colleges &nbsp;&nbsp;&nbsp;",
"68"=>"&nbsp;&nbsp;&nbsp;Entertainment &nbsp;&nbsp;&nbsp;",
"3"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Books &nbsp;&nbsp;&nbsp;",
"4"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Celebrities &nbsp;&nbsp;&nbsp;",
"6"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Movies &nbsp;&nbsp;&nbsp;",
"5"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Music &nbsp;&nbsp;&nbsp;",
"22"=>"&nbsp;&nbsp;&nbsp;Finance &nbsp;&nbsp;&nbsp;",
"35"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Accounting &nbsp;&nbsp;&nbsp;",
"43"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Financial Services &nbsp;&nbsp;&nbsp;",
"52"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Investing &nbsp;&nbsp;&nbsp;",
"80"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Personal Finance &nbsp;&nbsp;&nbsp;",
"9"=>"&nbsp;&nbsp;&nbsp;Games &nbsp;&nbsp;&nbsp;",
"88"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Games Industry News &nbsp;&nbsp;&nbsp;",
"91"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nintendo &nbsp;&nbsp;&nbsp;",
"89"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Playable Web Games &nbsp;&nbsp;&nbsp;",
"90"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PC Games &nbsp;&nbsp;&nbsp;",
"92"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Playstation &nbsp;&nbsp;&nbsp;",
"93"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XBox &nbsp;&nbsp;&nbsp;",
"10"=>"&nbsp;&nbsp;&nbsp;Health, Fitness &amp; Medical &nbsp;&nbsp;&nbsp;",
"69"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alternative Healthcare &nbsp;&nbsp;&nbsp;",
"70"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Conditions &amp; Diseases &nbsp;&nbsp;&nbsp;",
"72"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Healthcare Industry &nbsp;&nbsp;&nbsp;",
"71"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Medicine &amp; Pharmacy &nbsp;&nbsp;&nbsp;",
"73"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mental Health &amp; Addictions &nbsp;&nbsp;&nbsp;",
"139"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Personal Fitness &nbsp;&nbsp;&nbsp;",
"11"=>"&nbsp;&nbsp;&nbsp;Home &amp; Garden &nbsp;&nbsp;&nbsp;",
"76"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Family &nbsp;&nbsp;&nbsp;",
"75"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Food &amp; Drink &nbsp;&nbsp;&nbsp;",
"77"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gardening &nbsp;&nbsp;&nbsp;",
"78"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Home Improvement &amp; DIY &nbsp;&nbsp;&nbsp;",
"79"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pets &nbsp;&nbsp;&nbsp;",
"57"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Real Estate &amp; Housing &nbsp;&nbsp;&nbsp;",
"21"=>"&nbsp;&nbsp;&nbsp;Industry &nbsp;&nbsp;&nbsp;",
"36"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agriculture &nbsp;&nbsp;&nbsp;",
"37"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Biotech &amp; Pharmaceuticals &nbsp;&nbsp;&nbsp;",
"39"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chemicals &nbsp;&nbsp;&nbsp;",
"40"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construction &nbsp;&nbsp;&nbsp;",
"42"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Electronics &amp; Electrical &nbsp;&nbsp;&nbsp;",
"47"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Energy &amp; Environment &nbsp;&nbsp;&nbsp;",
"48"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Food Industry &nbsp;&nbsp;&nbsp;",
"50"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hospitality &nbsp;&nbsp;&nbsp;",
"58"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Telecommunications &nbsp;&nbsp;&nbsp;",
"60"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Transportation &amp; Logistics &nbsp;&nbsp;&nbsp;",
"7"=>"&nbsp;&nbsp;&nbsp;Internet &nbsp;&nbsp;&nbsp;",
"67"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cool Websites &nbsp;&nbsp;&nbsp;",
"44"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E-Commerce &nbsp;&nbsp;&nbsp;",
"65"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Web Design &nbsp;&nbsp;&nbsp;",
"66"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Web Marketing &nbsp;&nbsp;&nbsp;",
"105"=>"&nbsp;&nbsp;&nbsp;Popular Technology &nbsp;&nbsp;&nbsp;",
"106"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Apple &nbsp;&nbsp;&nbsp;",
"111"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cameras &nbsp;&nbsp;&nbsp;",
"107"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gadgets &nbsp;&nbsp;&nbsp;",
"108"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handheld Devices &nbsp;&nbsp;&nbsp;",
"109"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cell Phones &nbsp;&nbsp;&nbsp;",
"112"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MP3 &amp; MP4 Players &nbsp;&nbsp;&nbsp;",
"110"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TV &amp; HiFi &nbsp;&nbsp;&nbsp;",
"13"=>"&nbsp;&nbsp;&nbsp;News &amp; Current Affairs &nbsp;&nbsp;&nbsp;",
"82"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;World News &nbsp;&nbsp;&nbsp;",
"81"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Politics &nbsp;&nbsp;&nbsp;",
"83"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;US News &nbsp;&nbsp;&nbsp;",
"84"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Offbeat News &nbsp;&nbsp;&nbsp;",
"87"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2008 U.S. Elections &nbsp;&nbsp;&nbsp;",
"14"=>"&nbsp;&nbsp;&nbsp;Recreation &amp; Hobbies &nbsp;&nbsp;&nbsp;",
"98"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Collecting &nbsp;&nbsp;&nbsp;",
"101"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Martial Arts &nbsp;&nbsp;&nbsp;",
"102"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Outdoors &nbsp;&nbsp;&nbsp;",
"18"=>"&nbsp;&nbsp;&nbsp;Religion &amp; Spiritualism &nbsp;&nbsp;&nbsp;",
"119"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alternative Spirituality &nbsp;&nbsp;&nbsp;",
"118"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Christianity &nbsp;&nbsp;&nbsp;",
"16"=>"&nbsp;&nbsp;&nbsp;Science &amp; Technology &nbsp;&nbsp;&nbsp;",
"115"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Biology &nbsp;&nbsp;&nbsp;",
"114">"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Environment &nbsp;&nbsp;&nbsp;",
"116"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Social Sciences &nbsp;&nbsp;&nbsp;",
"113"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Space &nbsp;&nbsp;&nbsp;",
"20"=>"&nbsp;&nbsp;&nbsp;Sports &nbsp;&nbsp;&nbsp;",
"120"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Baseball &nbsp;&nbsp;&nbsp;",
"121"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Basketball &nbsp;&nbsp;&nbsp;",
"122"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extreme Sports &nbsp;&nbsp;&nbsp;",
"123"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Football - US/Canada &nbsp;&nbsp;&nbsp;",
"124"=>"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Golf &nbsp;&nbsp;&nbsp;");
/** Creates default options and saves them to database. */

function mm_createDefaultOptions()

{

	$options = array(

		"mm_tags" => array("startMarker" => "Tags:", "separator" => ",", "max" => "10"),

        'email_report' => true,"future_later" => "on","random" =>"on");



	add_option(MM_GLOBAL_ID, $options);



	return $options;

}



require_once (dirname(__FILE__) . '/spyc.php');

$spyc =& new Spyc;



$options = get_option(MM_GLOBAL_ID);

if (!$options) $options = mm_createDefaultOptions();

if ($_POST['update'])

{

    $mm_opt = array();



    if (is_array($_POST['service'])) {

        foreach (array_keys($_POST['service']) as $id) {

            $mm_opt[$_POST['service'][$id]][] = array(

                'doPosting' => isset($_POST['enabled'][$id]) ? '1' : '0',

                'username'  => $_POST['username'][$id],

                'password'  => $_POST['password'][$id],

                'extra'     => $_POST['extra'][$id]

            );

        }

	}



	$mm_tags = array("startMarker" => $_POST['mm_tags_startMarker'], 

			"separator" => $_POST['mm_tags_separator'],

			"max" => $_POST['mm_tags_max']);

	$options['mm_tags'] = $mm_tags;

    $options['email_report'] = isset($_POST['email_report']);

    $options['num_sites'] = intval($_POST['num_sites']);

    $options['random'] = isset($_POST['random']);

    $options['convert_tags'] = isset($_POST['convert_tags']);

    $options['use_preset'] = isset($_POST['use_preset']);

    $options['show_preset'] = isset($_POST['show_preset']);

    $options['preset_to_technorati'] = $options['show_preset'] ? isset($_POST['preset_to_technorati']) : false;

    $options['preset_tags'] = array_map('trim', explode(',', $_POST['preset_tags']));

    $options['future_later'] = isset($_POST['future_later']);

	update_option(MM_GLOBAL_ID, $options);



	$fh = fopen(MM_CONF_FILE,'w');

	fwrite($fh, $spyc->dump($mm_opt));

	fclose($fh);



    echo '<div id="message" class="updated fade"><p><strong>Options saved.</strong><p></div>';

}



$mm_opt = array();

$mm_opt = $spyc->load(MM_CONF_FILE);



$mm_tags = $options['mm_tags'];

$email_report = $options['email_report'];

$random = $options['random'];

$convert_tags = $options['convert_tags'];

$num_sites = intval($options['num_sites']);

$use_preset = $options['use_preset'];

$show_preset = $options['show_preset'];

$future_later = $options['future_later'];

$preset_to_technorati = $options['preset_to_technorati'];

$preset_tags = is_array($options['preset_tags']) ? implode(', ', $options['preset_tags']) : '';


$report_dir = dirname (__FILE__).'/report/';
$tmpx_dir = dirname (__FILE__).'/tmp/';

if (!is_writable(MM_CONF_FILE)) {

    echo '<div class="error"><p><strong>The configuration file ' . MM_CONF_FILE . ' must be 777 in order to save account settings.<div class="error"><p><strong>';

}
else
{
 
    
if (!is_writable($report_dir)) {

    echo '<div class="error"><p><strong>The report directory ' . $report_dir . ' must be 777 in order to save the reports.<div class="error"><p><strong>';

}
else{
   

if (!is_writable($tmpx_dir)) {

    echo '<div class="error"><p><strong>The tmp directory ' . $tmpx_dir . ' must be 777 in order to save the reports.<div class="error"><p><strong>';

}
}

}

if (!function_exists('scandirs'))
{
  function scandirs ($dir, $listDirectories = false, $skipDots = true)
  {
    $dirArray = array ();
    if ($handle = @opendir ($dir))
    {
      while (false !== ($file = @readdir ($handle)))
      {
        if ( ($file != "." && $file != "..") || $skipDots == true)
        {
          if ($listDirectories == false)
          {
            if (@is_dir ($file))
            {
              continue;
            }
          }
          array_push ($dirArray, basename ($file));
        }
      }
      @closedir ($handle);
    }
    return $dirArray;
  }
  }

    
    $report_dir = dirname (__FILE__).'/report/';

    $site_url = get_option ('siteurl');
    $report_dir2 = str_replace (ABSPATH, $site_url.'/', $report_dir);


    $dir_array = scandirs ($report_dir, false, false);
    foreach ($dir_array as $dir_name)
    {
      if (!substr_count ($dir_name, ".log") && !substr_count ($dir_name, ".txt") && !substr_count ($dir_name, ".errorlog"))
      {
        $dir_arrays[] = $dir_name;
      }
    }
    @rsort ($dir_arrays);
    @reset ($dir_arrays);
    $j=count($dir_arrays);


$i=0;
foreach ($mm_opt as $value) {
foreach ($value as $value2) {
if  ($value2['doPosting'] == 1)
{
$i++;
}
}
}


if ($i>0)
{
echo "<div id='akismet-warning' class='updated fade-ff0000'><p><strong>ASP plugin is ready and will add bookmarks to the enabled sites next time you publish a post!";
if ($j==0)
{
echo "</strong></p></div>";
}
else
{
echo "<br>";
}
}
if ($j>0)
{
if ($i==0)
{
echo "<div id='akismet-warning' class='updated fade-ff0000'><p><strong>";
}
echo "Here you can review the very last submission <a target=_blank href=".$report_dir2.$dir_arrays[0].">REPORT</a></strong></p></div>";
}


?>

    <script type="text/javascript">

        var $ = function(el) {

            return document.getElementById(el);

        };

        

        var DynaForm = {

            init: function() {

               $('butt').onclick = DynaForm.addRow;

			 //  $('check_all').onclick=DynaForm.checkAll;

    <?php

    if (count($mm_opt)) {

        foreach ($mm_opt as $service => $accounts) {

            foreach ($accounts as $account) {

                echo sprintf("DynaForm.addRow(%d, '%s', '%s', '%s', '%s');",

                        $account['doPosting'], $service, $account['username'], $account['password'], $account['extra']);

                

            }

        }

    }

    ?>

            },

            

            getServices: function(selected) {

                var services = new Array('<?php echo implode("','", $asp_services); ?>');

                var str = '';

                

                for (var i = 0; i < services.length; i++) {

                    str += '<option' + ( selected == services[i] ? ' selected="selected"' : '' ) + ' value="' + services[i] + '">' + services[i] + '</option>';

                }

                

                return str;

            },



            handleSelect: function(id, def) {

                var select = $('service' + id);

                var service = select.options[select.selectedIndex].value;

                var extra = $('extra' + id);



                if (undefined == def) def = '';



                if (service == 'scuttle') {

                    var tb = $('extra-input' + id);



                    extra.style.display = 'block';



                    if (!tb) {

                        extra.innerHTML = '<input type="textbox" name="extra[' + id + ']"'+ ' value="' + def + '" id="extra-input' + id + '">';

                        tb = $('extra-input' + id);

                    }



                    if (tb.value.length == 0) {

                        tb.value = 'http://scuttle.org';

                    }

                }else if (service == 'scuttlePLUS') {

                    var tb = $('extra-input' + id);



                    extra.style.display = 'block';



                    if (!tb) {

                        extra.innerHTML = '<input type="textbox" name="extra[' + id + ']"' + ' value="' + def + '" id="extra-input' + id + '">';

                        tb = $('extra-input' + id);

                    }



                    if (tb.value.length == 0) {

                        tb.value = '';

                    }

                } else if (service == 'blogmemes') {

                    var cats = {

<?php 

                    $ccount = count($blogmemes_cats);

                    $i = 0;

                    foreach ($blogmemes_cats as $id => $cat) {

                        printf('%d: "%s"%s', $id, $cat, (++$i == $ccount) ? '' : ',');

                    }

?>

};



                    var str = '';



                    str = '<select name="extra[' + id + ']">';

                    for (var id in cats) {

                        str += '<option' + ( def == id ? ' selected="selected"' : '' ) + ' value="' + id + '">' + cats[id] + '</option>';

                    }

                    str += '</select>';



                    extra.style.display = 'block';

                    extra.innerHTML = str;

                }else if (service == 'misterWong') {
                    var cats = {
					<?php 
						$ccount = count($mister_code);
						$i = 0;
						foreach ($mister_code as $id => $cat) {
							printf('%s: "%s"%s', $id, $cat, (++$i == $ccount) ? '' : ',');
						}
					?>
					};	
                    var str = '';
                    str = '<select name="extra[' + id + ']">';
                    for (var id in cats) {
                        str += '<option' + ( def == id ? ' selected="selected"' : '' ) + ' value="' + id + '">' + cats[id] + '</option>';
                    }
                    str += '</select>';
                    extra.style.display = 'block';
                    extra.innerHTML = str;
                }else if (service == 'backflip') {
                    var cats = {
					<?php 
						$ccount = count($back_flip_code);
						$i = 0;
						foreach ($back_flip_code as $id => $cat) {
							printf('%s: "%s"%s', $id, $cat, (++$i == $ccount) ? '' : ',');
						}
					?>
					};	
                    var str = '';
                    str = '<select name="extra[' + id + ']">';
                    for (var id in cats) {
                        str += '<option' + ( def == id ? ' selected="selected"' : '' ) + ' value="' + id + '">' + cats[id] + '</option>';
                    }
                    str += '</select>';
                    extra.style.display = 'block';
                    extra.innerHTML = str;
                }else if (service == 'sphinn') {
                    var cats = {
					<?php 
						$ccount = count($sphin_cat);
						$i = 0;
						foreach ($sphin_cat as $id => $cat) {
							printf('%s: "%s"%s', $id, $cat, (++$i == $ccount) ? '' : ',');
						}
					?>
					};	
                    var str = '';
                    str = '<select name="extra[' + id + ']">';
                    for (var id in cats) {
                        str += '<option' + ( def == id ? ' selected="selected"' : '' ) + ' value="' + id + '">' + cats[id] + '</option>';
                    }
                    str += '</select>';
                    extra.style.display = 'block';
                    extra.innerHTML = str;
                }else if (service == 'scoopIsedb') {
                    var cats = {
					<?php 
						$ccount = count($scoop_cat);
						$i = 0;
						foreach ($scoop_cat as $id => $cat) {
							printf('%s: "%s"%s', $id, $cat, (++$i == $ccount) ? '' : ',');
						}
					?>
					};	
                    var str = '';
                    str = '<select name="extra[' + id + ']">';
                    for (var id in cats) {
                        str += '<option' + ( def == id ? ' selected="selected"' : '' ) + ' value="' + id + '">' + cats[id] + '</option>';
                    }
                    str += '</select>';
                    extra.style.display = 'block';
                    extra.innerHTML = str;
                }else if(service == 'propeller'){									
					var cats = {
					<?php 
						$ccount = count($propeller_channel);
						$i = 0;
						foreach ($propeller_channel as $id => $cat) {
							printf('%s: "%s"%s', $id, $cat, (++$i == $ccount) ? '' : ',');
						}
					?>
					};	
                    var str = '';
                    str = '<select name="extra[' + id + ']">';
                    for (var id in cats) {
                        str += '<option' + ( def == id ? ' selected="selected"' : '' ) + ' value="' + id + '">' + cats[id] + '</option>';
                    }
                    str += '</select>';
                    extra.style.display = 'block';
                    extra.innerHTML = str;
					
				}else if (service == 'plugim') {
                    var cats = {
					<?php 
						$ccount = count($plugim_cat);
						$i = 0;
						foreach ($plugim_cat as $id => $cat) {
							printf('%s: "%s"%s', $id, $cat, (++$i == $ccount) ? '' : ',');
						}
					?>
					};	
                    var str = '';
                    str = '<select name="extra[' + id + ']">';
                    for (var id in cats) {
                        str += '<option' + ( def == id ? ' selected="selected"' : '' ) + ' value="' + id + '">' + cats[id] + '</option>';
                    }
                    str += '</select>';
                    extra.style.display = 'block';
                    extra.innerHTML = str;
                }else {
                    extra.innerHTML = '';
                    extra.style.display = 'none';
                }
            },

            

            addRow: function(enabled, service, username, password, extra) {

                var extra_td, row, id;



                var servicesx = new Array('<?php echo implode("','", $asp_services); ?>');


                goahead = 0;

                for (var ix = 0; ix < servicesx.length; ix++) {

                    if (servicesx[ix] == service) {goahead = 1;}
                    if (!service) {goahead = 1;}
                                        

                }



                if (goahead == 1)
                {

                if (undefined == enabled) enabled = 1;

                if (!service) service = '';

                if (!username) username = '';

                if (!password) password = '';

                if (undefined == extra) extra = '';

               

                do {

                    id = Math.ceil(Math.random() * 10000);

                } while ($('row' + id));

                

                row = $('accounts').insertRow($('accounts').rows.length);

                row.id = 'row' + id;

                

                row.insertCell(0).innerHTML = '<input type="checkbox" name="enabled[' + id + ']" id="enabled' + id + '" value="1"'

                                              + (enabled ? 'checked="checked"' : '') + '>';

                row.insertCell(1).innerHTML = '<select onchange="DynaForm.handleSelect(' 

                                              + id + ')" id="service' + id + '" name="service['

                                              + id + ']">' + DynaForm.getServices(service) + '</select>';





                row.insertCell(2).innerHTML = '<div id="extra' + id + '"></div>';

                /*

                row.insertCell(2).innerHTML = '<div id="extra' + id + '"><input type="textbox" name="extra[' + id + ']"'

                                                + ' value="' + extra + '" id="extra-input' + id + '">'

                                                + '</div>';

                 */



                row.insertCell(3).innerHTML = '<input type="text" name="username[' + id + ']" value="' + username + '">';

                row.insertCell(4).innerHTML = '<input type="text" name="password[' + id + ']" value="' + password + '">';

                row.insertCell(5).innerHTML = '<a href="javascript:void(0)" class="delete" onclick="DynaForm.deleteRow(\'' + row.id + '\')">Delete</a>';



                DynaForm.handleSelect(id, extra);



                return false;
}
    	    },

    	    

    	    deleteRow: function(id) {

    	        var rows = $('accounts').getElementsByTagName('tr');

    	        

    	        for (var i = 0; i < rows.length; i++) {

    	            if (id == rows[i].id) {

    	                $('accounts').deleteRow(rows[i].rowIndex);

    	                break;

    	            }

    	        }

    	    },			

			checkAll: function() {    	        

				var elems = document.getElementsByTagName('input');				

				if($('check_all').checked==true){

					var chk=true;

				}else{

					var chk=false;

				}

				DynaForm.check_box_select(chk);				

			},			

			check_box_select: function(chk) {    	        				

				var elems = document.getElementsByTagName('input');				

				for(i=0 ; i < elems.length ; i++){				

					if(elems[i].type=='checkbox'){

						id_str=elems[i].id.toString();

						if(id_str.substring(0,7)=="enabled"){

							$(id_str).checked=chk;							

						}

					}	

    	    	}

			}

							

       	};

        if(typeof addLoadEvent == 'function') {
			addLoadEvent(DynaForm.init);
		}else{
			window.onload = DynaForm.init;
		}

    </script>

	<form method="post" action="">

		<input type="hidden" name="update" value="1">

<div class="wrap">

        <h2><?php echo MM_PLUGIN_NAME; ?></h2>

        <fieldset class="options"> 

        

  <legend>Manual Tag Options</legend>

   

  <table class="optiontable">

    <tr> 

      <th scope="row">Start Marker:</th>

      <td><input type="text" name="mm_tags_startMarker" value="<?php echo $mm_tags['startMarker'] ?>"></td>

    </tr>

    <tr> 

      <th scope="row">Separator:</th>

      <td><input name="mm_tags_separator" type="text" value="<?php  echo $mm_tags['separator'] ?>" size="5"></td>

    </tr>

    <tr> 

      <th scope="row">&nbsp;</th>

      <td><input type="checkbox" name="convert_tags" <?php if ($convert_tags) echo 'checked'; ?>>

        Convert <code>[tags]..[/tags]</code> tags to Technorati tags</td>

    </tr>

  </table>

		<hr align="center" width="60%" noshade>

        </fieldset>

  <fieldset class="options">

  <legend>Pre-set Tag Options</legend>

  <table class="optiontable">

    <tr> 

      <th scope="row">&nbsp;</th>

      <td><input type="checkbox" id="use_preset" name="use_preset" <?php if ($use_preset) echo 'checked'; ?>> 

        <label>Randomly use these pre-set tags:<br /> 

        <textarea name="preset_tags" rows="2" cols="80" onchange="document.getElementById('use_preset').checked=true"><?php echo $preset_tags ?></textarea>

        </label></td>

    </tr>

    <tr> 

      <th scope="row">&nbsp;</th>

      <td><input type="checkbox" name="show_preset" <?php if ($show_preset) echo 'checked'; ?>>

        Show pre-set tags in post ( 

        <input type="checkbox" name="preset_to_technorati" <?php if ($preset_to_technorati) echo 'checked'; ?>>

        as technorati tags)</td>

    </tr>

    <tr>

      <th scope="row">&nbsp;</th>

      <td>Number of tags to use: 

        <input name="mm_tags_max" type="text" value="<?php  echo $mm_tags['max'] ?>" size="5"></td>

    </tr>

  </table>

            <hr align="center" width="60%" noshade>

  </fieldset>

  <fieldset class="options">

  <p>

    <legend>Other Posting Options</legend>

  </p>

		<table class="optiontable">

			<tr>

				<th scope="row">&nbsp;</th>

                <td><input type="checkbox" name="random" <?php if ($random) echo 'checked'; ?>> <label>Only post to

				<input type="text" size=3 name="num_sites" value="<?php echo $num_sites ?>"> random sites</label></td>

            </tr>

			<tr>

				<th scope="row">&nbsp;</th>

                <td><input name="email_report" type="checkbox" <?php if ($email_report) echo 'checked'; ?>>

         Email submission reports</td>

			</tr>

			<tr>

				<th scope="row">&nbsp;</th>

                <td><input name="future_later" type="checkbox" <?php if ($future_later) echo 'checked'; ?>>

         Bookmark Future Posts When Visible</td>

			</tr>

        </table>

		    <hr align="center" width="60%" noshade>

        </fieldset>

        <fieldset class="options">

        <legend>Bookmarking Accounts</legend>

            <h4><a href="javascript:void(0)" id="butt">Add New Account &raquo;</a></h4>

            <table id="accounts" border="0" width="50%" cellpadding="3" cellspacing="3">

            <tr>

                <th scope="col" width="5%">Enabled<!--<input type="checkbox" name="check_all" id="check_all" />--></th>

                <th scope="col">Service</th>

                <th scope="col">&nbsp;</th>

                <th scope="col">Username</th>

                <th scope="col">Password</th>

                <th scope="col">&nbsp;</th>

            </tr>

            </table>

        </fieldset>

			

    <p class="submit" style="float:left"><input type="button" name="select" value="Select All" onclick="DynaForm.check_box_select(true);" />&nbsp;<input type="button" name="unselect" value="DeSelect All" onclick="DynaForm.check_box_select(false);" />&nbsp;

	 <input type="submit" name="submit" value="Update &raquo;" /></p> 

	</form>

</div>